# 자바 개발 간소화

> 스프링이 제공하는 기능은 다양하지만 결국 핵심을 파고들면 `종속객체 주입(DI)`, `애스펙트 지향 프로그래밍(AOP)`으로 귀결된다.

스프링은 자바 개발을 간소화 하기 위해 네 가지 주요 전략을 사용한다.
- POJO를 이용한 가볍고 비침투적인 개발
- DI와 인터페이스 지향을 통한 느슨한 결합도
- 애스펙트와 공통 규약을 통한 선언적 프로그래밍
- 애스팩트와 템플릿을 통한 반복적인 코드 제거

스프링이 수행하는 거의 모든 일은 이 네가지 전략 중 하나 이상에 속한다.

## Power of POJO
스프링은 스프링에 특화된 인터페이스 구현이나 스프링 자체에 의존성이 높은 클래스 확장을 거의 요구하지 않는다.
최악의 경우 클래스에 스프링 어노테이션이 붙지만 그렇지 않은 경우에는 POJO이다.

```java
package com.june.spring;
public class HelloWorldBean {
    public String sayHello() {
        return "Hello World";
    }
}
```
위의 HelloWorldBean은 간단하고 흔한 클래스, POJO이다. 간단하지만 매우 강력하다. 스프링이 POJO에 힘을 불어넣는 방법 중 하나는 DI를 활용한 조립이다.

## 종속객체 주입
> 프로젝트에 DI를 적용하면 코드가 훨씬 더 간단해지고, 이해하기 쉬우며, 테스트하기도 쉬워진다.

### DI 동작 방법
위 예제보다 복잡한 실제 애플리케이션에서는 두 개 이상의 클래스가 서로 협력하여 비즈니스 로직을 수행한다.
이때 각 객체는 협력하는 객체에 대한 `레퍼런스`를 얻을 책입이 있는데, 그 결과 결합도가 높아지고 테스트 하기 힘든 코드가 만들어기지 쉽다.

결합도가 높은 코드는 테스트와 재활용이 어렵고 이해하기도 어려우며, 오류를 수정하기도 어렵다. **반면에 전혀 결합이 없는 코드는 아무것도 할 수 없다.**

DI를 이용하면 객체는 시스템에서 각 객체를 조율하는 제3자에 의해  생성 시점에 종속객체(dependency)가 부여된다. 객체는 종속객체를 생성하거나 얻지 않는다.
**즉, 종속객체는 종속객체가 필요한 객체에 주입된다.**

DI의 주요 이점은 인터페이스를 통한 **느슨한 결합도**이다.
느슨한 결합을 이용해 종속객체를 바꾸는 가장 일반적인 방법은 테스트 하는 동안에 모의(mock) 구현체를 이용하는 것이다.

애플리케이션 컴포넌트 간의 관계를 정하는 것을 `와이어링(wiring)`이라고 한다. 스프링에서 컴포넌트를 와이어랑 하는 방법은 여러가지가 있다.
일반적인 방법은 XML을 이용하는 것이다. XML 설정이 마음에 들지 않으면 Java를 이용하여 설정할 수 있다.

### 실행해보기
스프링 애플리케이션에서 `애플리케이션 컨텍스트`는 빈의 관한 정의들을 바탕으로 빈들을 엮어준다.

> DI에 더 알고 싶다면 이 책을 보자 : 
> [Dependency Injection (단지 R. 프라사나, 2009)](https://www.amazon.com/Dependency-Injection-Examples-Java-Ruby/dp/193398855X/ref=sr_1_2?ie=UTF8&qid=1488203009&sr=8-2&keywords=dependency+injection)

## 애스펙트 적용
- 애스펙트 지향 프로그래밍은 애플리케이션 전체에 걸쳐 사용되는 기능을 재사용할 수 있는 컴포넌트에 담는다.
- 횡단관심사 (로깅, 트랜잭션, 보안 등)
- 액스펙트는 POJO를 단순화한다.

## 템플릿을 이용한 상투적인 코드 제거
상투적인 코드란? 공통 작업이나 간단한 작업을 위해 반복적으로 작성해야 하는 코드. 상투적 코드의 대표적인 예는 JDBC 작업이다.
스프링은 템플릿에 상추적인 코드를 캡슐화하여 반복적인 코드를 제거하는 방법을 찾는다.(JdbcTemplate)