# 마이크로서비스란

## 마이크로 서비스
크기가 작은 각각의 서비스들이 자율적으로 협업하는 구조

### 마이크로서비스는 작고 한가지 일을 잘 하는데 주력한다
- 마이크로서비스의 반대는 모놀리식(monolithic) 서비스
- 얼마나 작아야 하는가? : 충분히 작아서 더이상 작아질 수 없을때까지!
- 서비스와 팀 구조가 적절히 배치되는게 중요하다

### 자율성
- 각각의 분리된 서비스는 자율성을 갖는다
- 서비스 사이의 모든 통신은 네트워크 호출을 통해 이루어짐
- 무엇을 외부에 공개하고 무엇을 내부에 두어야 하는지 고민해야 한다
- 서비스의 API를 제대로 만드는 것이 중요함
- 각각의 서비스는 서로의 구현방식에 대해 영향을 받지 않아야 한다
- 다른 변경 없이 특정 서비스만 변경하고 배포할 수 있어야 한다

## 마이크로서비스를 도입함으로써 얻을 수 있는 혜택
1. 기술의 이기종성
    - 각각의 서비스가 서로 다른 기술을 사용할 수 있다.
2. 회복성
    - 한 시스템의 컴포넌트에 장애가 발생하더라도 그 장애를 전파시키지 않고(격리) 나머지 시스템을 작동시킬 수 있다
3. 확장성
    - 하나의 큰 모놀리식 서비스는 항상 모든것을 함께 확장해야함
    - 어느 한 부분만 성능이 떨어져도 모놀리식이라면 전체 시스템을 확장해야함
    - 작은 서비스들로 구성되어있는 마이크로서비스에서는 필요한 특정 서비스만 확장할 수 있다
4. 배포 용이성
    - 모놀리식 애플리케이션은 한 줄만 수정하더라도 전체 애플리케이션을 배포해야 한다
    - 마이크로서비스는 하나의 서비스만 변경할 수 있고 나머지 서비스와 독립적으로 배포할 수 있다
5. 조직 부합성
    - 더 작은 팀이 더 작은 코드베이스로 일할 때 생산성은 올라간다!
    - 마이크로서비스를 이용하면 아키텍처를 조직 구조에 적절하게 맞출 수 있다(하나의 코드 베이스에서 일하는 인원을 최소화)
6. 조합성
    - 작게 분리된 서비스들을 필요한 기능에 맞게 조합하고 재사용 할 수 있다
7. 대체 가능성을 위한 최적화
    - 규모가 큰 레거시 시스템은 교체 작업이 방대하교 비용도 많이 들기 때문에 잘 교체되지 않는다
    - 마이크로서비스는 작은 크기의 서비스로 이루어져 있기 때문에 더 나은 구현으로 교체하는데 적은 비용이 든다.

## 주의사항 
- 마이크로서비스는 분산 시스템과 연관된 모든 종류의 복잡성을 내포하고 있다
- 분산 시스템을 적절히 다루는 것은 어려운 작업이다.
